
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Functions</title> 
<meta name="author" content="CoActionOS, Inc">

<!-- Enable responsive viewport -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
<!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

<!-- Le styles -->
<link href="/assets/themes/twitter/bootstrap3/css/bootstrap.min.css" rel="stylesheet">
<script src="/assets/themes/twitter/bootstrap3/js/jquery-2.0.3.min.js"></script>
<script src="/assets/themes/twitter/bootstrap3/js/bootstrap.min.js"></script>
<link href="/assets/themes/twitter/bootstrap3/css/font-awesome.min.css" rel="stylesheet">
<link href="/assets/themes/twitter/css/style.css" rel="stylesheet">
<link href="/assets/themes/twitter/css/syntax.css" rel="stylesheet">

<!-- Le fav and touch icons -->
<!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

<!-- atom & rss feed -->
<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
<link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

</head>

<body style="min-height: 200px; padding-top: 50px;">

	<header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role="banner">
		<div class="container">
			<div class="row">
				<div class="col-md-offset-1 col-md-9">
					<div class="navbar-header">
						<button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".menu-navbar-collapse">
							<span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
						</button>
						<a class="navbar-brand" href="/index.html">
							<img style="height: 22px;" src="/images/CoActionOS-Logo.svg" />
						</a>
					</div>

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse navbar-collapse menu-navbar-collapse" role="navigation">
						<ul class="nav navbar-nav">
							<li><a href="#"><i class="fa fa-phone"></i> Services</a></li>
							<li><a href="https://github.com/CoActionOS"><i class="fa fa-code-fork"></i> Code</a></li>
							<li><a href="/downloads.html"><i class="fa fa-cloud-download"></i> Downloads</a></li>
							<li><a href="/tips.html"><i class="fa fa-lightbulb-o"></i> Design Tips</a></li>
						</ul>
						<ul class="nav navbar-nav navbar-right">
							<li><a href="#"><i class="fa fa-info-circle"></i> About</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
	</header>

	<div class="content" id="content">
		<div class="container">
			<div class="row" style="margin-top: 20px;">
				<div class="col-md-offset-1 col-md-7 panel panel-default"><div class="panel-body">
<div class="page-header">
  <h1>Functions <small>Embedded C Tutorial</small></h1>
</div>

<div class="row-fluid post-full">
  <div class="span12">
    <div class="date">
      <span>14 December 2013</span>
    </div>
    <div class="content">
      <p>A function is a collection of C statements that can be utilized many times throughout a program or packaged into a module and re-used throughout many programs. The anatomy of a C function includes the prototype, the return type, the parameters, the name, and the body. Here is an example:</p>
<div class='highlight'><pre><code class='cpp'><span class='cp'>#include &lt;stdio.h&gt;</span>
<span class='cp'>#include &lt;stdlib.h&gt;</span>
<span class='kt'>int</span> <span class='nf'>my_first_function</span><span class='p'>(</span><span class='kt'>int</span> <span class='n'>x</span><span class='p'>,</span> <span class='kt'>int</span> <span class='n'>y</span><span class='p'>);</span> <span class='c1'>//this is the prototype</span>
<span class='kt'>int</span> <span class='nf'>main</span><span class='p'>(</span><span class='kt'>int</span> <span class='n'>argc</span><span class='p'>,</span> <span class='kt'>char</span> <span class='o'>*</span> <span class='n'>argv</span><span class='p'>[]){</span>
     <span class='kt'>int</span> <span class='n'>w</span><span class='p'>;</span>
     <span class='kt'>int</span> <span class='n'>z</span><span class='p'>;</span>
     <span class='n'>w</span> <span class='o'>=</span> <span class='mi'>5</span><span class='p'>;</span>
     <span class='n'>z</span> <span class='o'>=</span> <span class='n'>my_first_function</span><span class='p'>(</span><span class='n'>w</span><span class='p'>,</span> <span class='mi'>3</span><span class='p'>);</span>
     <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;z is %d</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>,</span> <span class='n'>z</span><span class='p'>);</span>
     <span class='n'>exit</span><span class='p'>(</span><span class='mi'>0</span><span class='p'>);</span>
<span class='p'>}</span>
<span class='c1'>//this is the type (int), name, and parameters (x and y) of the function</span>
<span class='kt'>int</span> <span class='nf'>my_first_function</span><span class='p'>(</span><span class='kt'>int</span> <span class='n'>x</span><span class='p'>,</span> <span class='kt'>int</span> <span class='n'>y</span><span class='p'>){</span>
     <span class='c1'>//Inside the curly brackets is the function body</span>
     <span class='kt'>int</span> <span class='n'>sum</span><span class='p'>;</span>
     <span class='n'>sum</span> <span class='o'>=</span> <span class='n'>x</span> <span class='o'>+</span> <span class='n'>y</span><span class='p'>;</span>
     <span class='n'>x</span> <span class='o'>=</span> <span class='mi'>0</span><span class='p'>;</span>
     <span class='k'>return</span> <span class='n'>sum</span><span class='p'>;</span> <span class='c1'>//tells the compiler to return the int x+y to the caller</span>
<span class='p'>}</span>
</code></pre></div>
<p>The code above demonstrates my_first_function(). The prototype is always the return type, name, and parameters followed by a semi-colon. In most cases, the prototype is part of a header file so that the function can be used in many different source files. This is the case for printf() whose prototype is part of the stdio.h header file. The compiler gives a warning if a function is used, but a prototype is not found. It is important for the compiler to know function prototypes so that it can verify the number and types of the parameters passed to a function are compatible. It also checks that the return type is used correctly.</p>

<h2 id="name">Name</h2>

<p>The name of the function must be a valid C identifier. By convention, user-defined identifiers should not start with an underscore. It is good practice to use descriptive identifiers. Actually, my_first_function() is a poor name because it does not inform the programmer what the function does. A better name is add_xy() because the function returns the sum of the two parameters.</p>

<p>%{color:note}Valid C identifiers must start with a letter or underscore and be composed of case-sensitive letters, numbers, and underscores as well as not be a C keyword.%</p>

<h2 id="parameters">Parameters</h2>

<p>The naming rules for parameters are the same for functions in that they must be C identifiers. A function can have any number of parameters passed to it of any type. The example above has two parameters of type int. Within the body of a function, a parameter acts as a local variable. It can be both read and written. However, any changes to the parameters are lost when the function returns. In the example above, the variable w within main() is not affected by the x = 0 statement within my_first_function() because a copy of w is passed to the function rather than w itself.</p>

<h2 id="body">Body</h2>

<p>The body of a function includes any number of C statements (separted by semicolons) within curly brackets. The return keyword is used to exit the function. If the return type is void, using return is optional. Also, return does not have to come at the end of the function. A function may conditionally return before it reaches the end. Here are a few examples to illustrate using return.</p>
<div class='highlight'><pre><code class='cpp'><span class='kt'>void</span> <span class='nf'>print_output</span><span class='p'>(</span><span class='kt'>int</span> <span class='n'>value</span><span class='p'>){</span>
     <span class='n'>printf</span><span class='p'>(</span><span class='s'>&quot;Output is %d</span><span class='se'>\n</span><span class='s'>&quot;</span><span class='p'>,</span> <span class='n'>value</span><span class='p'>);</span>
     <span class='c1'>//because the return type is void, return is optional here</span>
<span class='p'>}</span>
<span class='kt'>int</span> <span class='nf'>sum_abc</span><span class='p'>(</span><span class='kt'>int</span> <span class='n'>a</span><span class='p'>,</span> <span class='kt'>int</span> <span class='n'>b</span><span class='p'>,</span> <span class='kt'>int</span> <span class='n'>c</span><span class='p'>){</span>
     <span class='k'>if</span> <span class='p'>(</span> <span class='n'>a</span> <span class='o'>&lt;</span> <span class='mi'>0</span> <span class='p'>){</span>
          <span class='k'>return</span> <span class='o'>-</span><span class='mi'>1</span><span class='p'>;</span> <span class='c1'>//conditionally return early if a is less than 0</span>
     <span class='p'>}</span>
     <span class='k'>return</span> <span class='n'>a</span> <span class='o'>+</span> <span class='n'>b</span> <span class='o'>+</span> <span class='n'>c</span><span class='p'>;</span> <span class='c1'>//return the sum (as an int)</span>
<span class='p'>}</span>
</code></pre></div>
<h2 id="take_away">Take Away</h2>

<p>A function is a primary building block in C. A function consists of a prototype, name, return type, parameters, and body. The function name as well as the parameters must be valid C identifiers consisting only of letters, numbers, and underscores. They cannot start with a number and should not start with an underscore. As a programmer, you will create, use, and re-use many, many functions.</p>
    </div>

<hr>
  
    <ul class="nav nav-pills">
      
      


  
     
    	<li><a href="/tags.html#embedded-ref">embedded <span class="badge">11</span></a></li>
     
    	<li><a href="/tags.html#tips-ref">tips <span class="badge">11</span></a></li>
     
    	<li><a href="/tags.html#c-tutorial-ref">c-tutorial <span class="badge">9</span></a></li>
    
  



    </ul>
    

    <div class="pagination">
      <center>
        
          <a href="/c-tutorial/2013/12/14/Embedded-C-Tutorial-Flow-Control" type="button" class="btn btn-primary"><i class="fa fa-arrow-left"></i></a>
        
          <a href="/archive.html" type="button" class="btn btn-primary"><i class="fa fa-archive"></i></a>
        
          <a href="/c-tutorial/2013/12/14/Embedded-C-Tutorial-Keyword-Reference" type="button" class="btn btn-primary"><i class="fa fa-arrow-right"></i></a>
        
      </center>
    </div>
  </div>
</div>

</div></div>
				<div class="col-md-4">
				

					<h3>c-tutorial</h3>
					<ul>
						  
						


  
    
      
      	
      	<li><a href="/c-tutorial/2013/12/20/Embedded-C-Tutorial-Hello-World">Hello World</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/c-tutorial/2013/12/14/Embedded-C-Tutorial-Raw-Types">Raw Types</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/c-tutorial/2013/12/14/Embedded-C-Tutorial-Preprocessor">Preprocessor</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/c-tutorial/2013/12/14/Embedded-C-Tutorial-Pointers-and-Arrays">Pointers and Arrays</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/c-tutorial/2013/12/14/Embedded-C-Tutorial-Operators">Operators</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/c-tutorial/2013/12/14/Embedded-C-Tutorial-Keyword-Reference">Keywords Reference</a></li>
      	
      
    
  
    
      
      	
      	<li class="active"><a href="/c-tutorial/2013/12/14/Embedded-C-Tutorial-Functions" class="active">Functions</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/c-tutorial/2013/12/14/Embedded-C-Tutorial-Flow-Control">Flow Control</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/c-tutorial/2013/12/14/Embedded-C-Tutorial-Compound-Data-Types">Compound Data Types</a></li>
      	
      
    
  



					</ul>
 
 				  
				</div>
			</div>

		</div>
	</div>
	<hr>
	<footer>
		<div class="container">
			<div class="row">
				<div class="col-md-offset-1 col-md-9">
					<p>&copy; 2013 CoActionOS, Inc</p>
				</div>
			</div>
		</div>
	</footer>
	
</body>
</html>

