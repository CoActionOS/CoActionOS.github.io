<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.6">
  <compounddef id="group___t_m_r" kind="group">
    <compoundname>TMR</compoundname>
    <title>Timer (TMR)</title>
    <innerfile refid="tmr_8h">tmr.h</innerfile>
    <innerclass refid="structtmr__reqattr__t" prot="public">tmr_reqattr_t</innerclass>
    <innerclass refid="structtmr__attr__t" prot="public">tmr_attr_t</innerclass>
      <sectiondef kind="enum">
      <memberdef kind="enum" id="group___t_m_r_1ga752e581dd80394311e122634680ece35" prot="public" static="no">
        <name>tmr_clksrc_t</name>
        <enumvalue id="group___t_m_r_1gga752e581dd80394311e122634680ece35a6928b4e5c83b959e37e3920a09123b35" prot="public">
          <name>TMR_CLKSRC_CPU</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Use the CPU as the source for the clock (timer mode) </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga752e581dd80394311e122634680ece35a3933e4497b943bc0722ef7033951fca4" prot="public">
          <name>TMR_CLKSRC_IC0</name>
          <initializer>= 1</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Use input capture channel 0 for the clock source (counter mode) </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga752e581dd80394311e122634680ece35ad2ea59fe333f27d6bdc9da487c4c72f6" prot="public">
          <name>TMR_CLKSRC_IC1</name>
          <initializer>= 2</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Use input capture channel 1 for the clock source (counter mode) </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga752e581dd80394311e122634680ece35a2e5c982133dc1a6f795c84968cec1d01" prot="public">
          <name>TMR_CLKSRC_IC2</name>
          <initializer>= 3</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Use input capture channel 2 for the clock source (counter mode) </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga752e581dd80394311e122634680ece35a015a3600ae46137f09d06fb113995783" prot="public">
          <name>TMR_CLKSRC_IC3</name>
          <initializer>= 4</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Use input capture channel 3 for the clock source (counter mode) </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga752e581dd80394311e122634680ece35a2297f0ee2c2197fe99729267865dd6a7" prot="public">
          <name>TMR_CLKSRC_EDGERISING</name>
          <initializer>= (1&lt;&lt;4)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Count rising edges </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga752e581dd80394311e122634680ece35abd5e50b4088f9422b84d5cdffe9e5777" prot="public">
          <name>TMR_CLKSRC_EDGEFALLING</name>
          <initializer>= (2&lt;&lt;4)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Count falling edges </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga752e581dd80394311e122634680ece35a9cc719060c8595411a6030bdabb77e89" prot="public">
          <name>TMR_CLKSRC_EDGEBOTH</name>
          <initializer>= (3&lt;&lt;4)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Count both edges </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga752e581dd80394311e122634680ece35a5042929f4e1bcc8634324edf0e267f15" prot="public">
          <name>TMR_CLKSRC_COUNTDOWN</name>
          <initializer>= (1&lt;&lt;8)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Count down (not up) </para>          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>This lists the valid values for the clk_src member of the <ref refid="structtmr__attr__t" kindref="compound">tmr_attr_t</ref> data structure. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="108" column="1" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="108" bodyend="118"/>
      </memberdef>
      <memberdef kind="enum" id="group___t_m_r_1ga7d678038d5737ca6e05ef60e6ca788d6" prot="public" static="no">
        <name>tmr_action_event_t</name>
        <enumvalue id="group___t_m_r_1gga7d678038d5737ca6e05ef60e6ca788d6a012f94da7c88cd58b06b09c96f3decc7" prot="public">
          <name>TMR_ACTION_EVENT_NONE</name>
          <initializer>= 0</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>no action </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga7d678038d5737ca6e05ef60e6ca788d6a50bd71a86096a576520c8e7c4af61260" prot="public">
          <name>TMR_ACTION_EVENT_INTERRUPT</name>
          <initializer>= (1&lt;&lt;0)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>enable interrupt on IC/OC event </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga7d678038d5737ca6e05ef60e6ca788d6ae745d8c1cd8983024b950fef824bbd62" prot="public">
          <name>TMR_ACTION_EVENT_RESET</name>
          <initializer>= (1&lt;&lt;1)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>reset the timer on IC/OC event </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga7d678038d5737ca6e05ef60e6ca788d6a89ea0f12427c4cc7f129b55f7c98d1b4" prot="public">
          <name>TMR_ACTION_EVENT_STOP</name>
          <initializer>= (1&lt;&lt;2)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>stop the timer on OC/IC event </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga7d678038d5737ca6e05ef60e6ca788d6adc37fbdb7862d00df403acad539acc43" prot="public">
          <name>TMR_ACTION_EVENT_SETOC</name>
          <initializer>= (1&lt;&lt;3)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>set the OC channel pin to logic 1 </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga7d678038d5737ca6e05ef60e6ca788d6a226d7bac1d981225639c6c82fc532e4b" prot="public">
          <name>TMR_ACTION_EVENT_CLROC</name>
          <initializer>= (1&lt;&lt;4)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>clear the OC channel pin to logic 0 </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga7d678038d5737ca6e05ef60e6ca788d6ab566e6a0a36284f4f69b72c1a8757d12" prot="public">
          <name>TMR_ACTION_EVENT_TOGGLEOC</name>
          <initializer>= (1&lt;&lt;5)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>toggle the OC channel pin </para>          </detaileddescription>
        </enumvalue>
        <enumvalue id="group___t_m_r_1gga7d678038d5737ca6e05ef60e6ca788d6ae8f09fda9578c5a6510d7bc9656845c0" prot="public">
          <name>TMR_ACTION_EVENT_PWMMODE</name>
          <initializer>= (1&lt;&lt;6)</initializer>
          <briefdescription>
          </briefdescription>
          <detaileddescription>
<para>Execute OC channel in PWM Mode </para>          </detaileddescription>
        </enumvalue>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>This defines no action for an OC/IC event. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="129" column="1" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="129" bodyend="138"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="typedef">
      <memberdef kind="typedef" id="group___t_m_r_1ga3f45c39d7dcdced3980b3b2439d39cd4" prot="public" static="no">
        <type>uint32_t</type>
        <definition>typedef uint32_t tmr_sample_t</definition>
        <argsstring></argsstring>
        <name>tmr_sample_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="102" column="1" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="102" bodyend="-1"/>
      </memberdef>
      <memberdef kind="typedef" id="group___t_m_r_1gabaad52d591e2a6a10e4752b39822ca49" prot="public" static="no">
        <type><ref refid="structhwpl__action__t" kindref="compound">hwpl_action_t</ref></type>
        <definition>typedef hwpl_action_t tmr_action_t</definition>
        <argsstring></argsstring>
        <name>tmr_action_t</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>This defines the timer action structure.</para><para>See <ref refid="group___t_m_r_1ga7d678038d5737ca6e05ef60e6ca788d6" kindref="member">tmr_action_event_t</ref> for event values.</para><para>See the following for channel information:<itemizedlist>
<listitem><para><ref refid="group___l_p_c17_x_x_d_e_v_1ga4446c5622012374fdca172a8600b6b53" kindref="member">lpc17xx_tmr_action_channel_t</ref></para></listitem><listitem><para><ref refid="group___l_p_c13_x_x_d_e_v_1gaa4bb58f20ad4a64f47564f48cb85f1eb" kindref="member">lpc13xx_tmr_action_channel_t</ref></para></listitem></itemizedlist>
</para><para>for action channel information.</para><para><simplesect kind="see"><para><ref refid="structhwpl__action__t" kindref="compound">hwpl_action_t</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="153" column="1" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="153" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="define">
      <memberdef kind="define" id="group___t_m_r_1ga74947ab9b6a286b632eb50969474e977" prot="public" static="no">
        <name>TMR_IOC_IDENT_CHAR</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="98" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="98" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga82a0b3813829f10495c43d5238e45a29" prot="public" static="no">
        <name>TMR_SAMPLE_T</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="101" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="101" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gaa9cb6aa0cba4db2a64241294dd5c7daf" prot="public" static="no">
        <name>TMR_CLKSRC_MASK</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="120" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="120" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga2a06fa9be0898c5a27465d4407ef2517" prot="public" static="no">
        <name>TMR_CLKSRC_EDGEMASK</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="121" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="121" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gaeb94082355400363145390ae5efdda5c" prot="public" static="no">
        <name>TMR_MODE_SETCLKSRC</name>
        <param><defname>x</defname></param>
        <briefdescription>
<para>Specifies the timer clock source as part of the mode. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="169" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="169" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gab2c4a7e41ec7bf92db988eb9f3e85a04" prot="public" static="no">
        <name>TMR_MODE_CLK_SRC</name>
        <param><defname>x</defname></param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="170" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="170" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gac6a5a1545ae8f42d6457c33f96f01249" prot="public" static="no">
        <name>TMR_MODE_SETCOUNTER</name>
        <param><defname>x</defname></param>
        <briefdescription>
<para>Is used to specify the timer counter mode when opening a timer port. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="176" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="176" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gaa6c2ac9c41323904832316f6fc98f502" prot="public" static="no">
        <name>TMR_MODE_COUNTER</name>
        <param><defname>x</defname></param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="177" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="177" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gae51fb6b5704882a303710b534888b1aa" prot="public" static="no">
        <name>TMR_MODE_GET_CLK_SRC</name>
        <param><defname>mode</defname></param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="180" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="180" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga7029f061b176a28cf458928de995aaa3" prot="public" static="no">
        <name>TMR_MODE_GET_COUNTER</name>
        <param><defname>mode</defname></param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="181" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="181" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga019da11cefc626f1e3364bf33a170ee9" prot="public" static="no">
        <name>I_TMR_GETATTR</name>
        <briefdescription>
<para>This request gets the timer attributes. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="204" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="204" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gaefe78a760425bd615ec9aae7c5c24166" prot="public" static="no">
        <name>I_TMR_SETATTR</name>
        <briefdescription>
<para>This request sets the timer attributes. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="208" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="208" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga6b2b84970c0419efbbaf1748b9e2d2c3" prot="public" static="no">
        <name>I_TMR_SETACTION</name>
        <briefdescription>
<para>This request sets the timer interrupt action. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="212" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="212" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga3871e5d0dfcd5d2df1999bc7e731f167" prot="public" static="no">
        <name>I_TMR_ON</name>
        <briefdescription>
<para>This request turns the timer on. After a timer is opened it must be turned on before it starts running. The ctl argument is NULL. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="219" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="219" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga061cffe54c3f7f31414dca0647c027c3" prot="public" static="no">
        <name>I_TMR_OFF</name>
        <briefdescription>
<para>This request turns the timer off. After a timer is opened it is off. </para>        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="225" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="225" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga1d1975c0f529d6cdc1e15c0de5740114" prot="public" static="no">
        <name>I_TMR_SETOC</name>
        <briefdescription>
<para>See details below. </para>        </briefdescription>
        <detaileddescription>
<para>This request writes the value of the current output compare channel. The ctl argument is a pointer to the <ref refid="structtmr__reqattr__t" kindref="compound">tmr_reqattr_t</ref> structure. For example:<itemizedlist>
<listitem><para><programlisting><codeline><highlight class="normal"><ref refid="structtmr__reqattr__t" kindref="compound">tmr_reqattr_t</ref><sp/>chan_req;</highlight></codeline>
<codeline><highlight class="normal">chan_req.<ref refid="structtmr__reqattr__t_1acdb25687f2bfa6965b5f8fa733d0198a" kindref="member">channel</ref><sp/>=<sp/>1;<sp/></highlight><highlight class="comment">//write<sp/>to<sp/>OC<sp/>channel<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">chan_req.<ref refid="structtmr__reqattr__t_1ae02abe4a2ddbd1cdb1e17b46237a1acd" kindref="member">value</ref><sp/>=<sp/>1000000;<sp/></highlight><highlight class="comment">//write<sp/>1<sp/>million<sp/>to<sp/>the<sp/>OC<sp/>channel</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1ga1e7463f2ee53d9da5a2ee24121aed25d" kindref="member">ioctl</ref>(tmr_fd,<sp/><ref refid="group___t_m_r_1ga1d1975c0f529d6cdc1e15c0de5740114" kindref="member">I_TMR_SETOC</ref>,<sp/>&amp;chan_req<sp/>){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//There<sp/>was<sp/>an<sp/>error</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting> </para></listitem></itemizedlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="243" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="243" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga82116e95b6cb8fe53550a9c6a8ce8807" prot="public" static="no">
        <name>I_TMR_SET_OC</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="244" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="244" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga0fc056b76c426b5d4057e247e556a1b9" prot="public" static="no">
        <name>I_TMR_GETOC</name>
        <briefdescription>
<para>See details below. </para>        </briefdescription>
        <detaileddescription>
<para>This request reads the value of the current output compare channel. The ctl argument is a pointer to a <ref refid="structtmr__reqattr__t" kindref="compound">tmr_reqattr_t</ref> structure. tmr_ioctl() will return zero on success. For example: <programlisting><codeline><highlight class="normal"><ref refid="structtmr__reqattr__t" kindref="compound">tmr_reqattr_t</ref><sp/>chan_req;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>oc_value;</highlight></codeline>
<codeline><highlight class="normal">chan_req.<ref refid="structtmr__reqattr__t_1acdb25687f2bfa6965b5f8fa733d0198a" kindref="member">channel</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1ga1e7463f2ee53d9da5a2ee24121aed25d" kindref="member">ioctl</ref>(tmr_fd,<sp/><ref refid="group___t_m_r_1ga0fc056b76c426b5d4057e247e556a1b9" kindref="member">I_TMR_GETOC</ref>,<sp/>&amp;chan_req<sp/>){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//There<sp/>was<sp/>an<sp/>error</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal">oc_value<sp/>=<sp/>chan_req.<ref refid="structtmr__reqattr__t_1ae02abe4a2ddbd1cdb1e17b46237a1acd" kindref="member">value</ref>;</highlight></codeline>
</programlisting> </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="263" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="263" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gaee213d9b9548e735bd0332de26f7f117" prot="public" static="no">
        <name>I_TMR_GET_OC</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="264" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="264" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gaa38dabc8bc8475b1a28f517522d9e9ca" prot="public" static="no">
        <name>I_TMR_SETIC</name>
        <briefdescription>
<para>See details below. </para>        </briefdescription>
        <detaileddescription>
<para>This request writes the value of the input capture using the current channel. The ctl argument is a pointer to the <ref refid="structtmr__reqattr__t" kindref="compound">tmr_reqattr_t</ref> structure. For example:<itemizedlist>
<listitem><para>For example:</para></listitem><listitem><para><programlisting><codeline><highlight class="normal"><ref refid="structtmr__reqattr__t" kindref="compound">tmr_reqattr_t</ref><sp/>chan_req;</highlight></codeline>
<codeline><highlight class="normal">chan_req.<ref refid="structtmr__reqattr__t_1acdb25687f2bfa6965b5f8fa733d0198a" kindref="member">channel</ref><sp/>=<sp/>1;<sp/></highlight><highlight class="comment">//write<sp/>to<sp/>OC<sp/>channel<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">chan_req.<ref refid="structtmr__reqattr__t_1ae02abe4a2ddbd1cdb1e17b46237a1acd" kindref="member">value</ref><sp/>=<sp/>1;<sp/></highlight><highlight class="comment">//write<sp/>1<sp/>to<sp/>the<sp/>IC<sp/>channel</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1ga1e7463f2ee53d9da5a2ee24121aed25d" kindref="member">ioctl</ref>(tmr_fd,<sp/><ref refid="group___t_m_r_1gaa38dabc8bc8475b1a28f517522d9e9ca" kindref="member">I_TMR_SETIC</ref>,<sp/>&amp;chan_req<sp/>){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//There<sp/>was<sp/>an<sp/>error</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting> </para></listitem></itemizedlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="283" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="283" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gafe38d85b9dceb2db75a31669ba00cdc6" prot="public" static="no">
        <name>I_TMR_SET_IC</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="284" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="284" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga84e81c0e7c9fe916daa9e1f1d92fc495" prot="public" static="no">
        <name>I_TMR_GETIC</name>
        <briefdescription>
<para>See details below. </para>        </briefdescription>
        <detaileddescription>
<para>This request reads the value of the input capture using the current channel. The ctl argument is a pointer to the <ref refid="structtmr__reqattr__t" kindref="compound">tmr_reqattr_t</ref> structure. For example: <programlisting><codeline><highlight class="normal"><ref refid="structtmr__reqattr__t" kindref="compound">tmr_reqattr_t</ref><sp/>chan_req;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ic_value;</highlight></codeline>
<codeline><highlight class="normal">chan_req.<ref refid="structtmr__reqattr__t_1acdb25687f2bfa6965b5f8fa733d0198a" kindref="member">channel</ref><sp/>=<sp/>1;</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1ga1e7463f2ee53d9da5a2ee24121aed25d" kindref="member">ioctl</ref>(tmr_fd,<sp/><ref refid="group___t_m_r_1ga84e81c0e7c9fe916daa9e1f1d92fc495" kindref="member">I_TMR_GETIC</ref>,<sp/>&amp;chan_req<sp/>){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//There<sp/>was<sp/>an<sp/>error</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal">ic_value<sp/>=<sp/>chan_req.<ref refid="structtmr__reqattr__t_1ae02abe4a2ddbd1cdb1e17b46237a1acd" kindref="member">value</ref>;</highlight></codeline>
</programlisting> </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="302" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="302" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gaffd63cad909c6ed88f5b9c305da66ba4" prot="public" static="no">
        <name>I_TMR_GET_IC</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="303" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="303" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gad5917be06a3069c73fec5b2efbe094fd" prot="public" static="no">
        <name>I_TMR_SET</name>
        <briefdescription>
<para>See details below. </para>        </briefdescription>
        <detaileddescription>
<para>This request writes the value of the timer. For example: <programlisting><codeline><highlight class="normal">uint32_t<sp/>value<sp/>=<sp/>1000000;</highlight></codeline>
<codeline><highlight class="normal"><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1ga1e7463f2ee53d9da5a2ee24121aed25d" kindref="member">ioctl</ref>(tmr_fd,<sp/><ref refid="group___t_m_r_1gad5917be06a3069c73fec5b2efbe094fd" kindref="member">I_TMR_SET</ref>,<sp/>value);</highlight></codeline>
</programlisting> </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="314" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="314" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1gab3dad8f32add45b25ab32f918b607d9e" prot="public" static="no">
        <name>I_TMR_GET</name>
        <briefdescription>
<para>See details below. </para>        </briefdescription>
        <detaileddescription>
<para>This request reads the value of the timer. For example: <programlisting><codeline><highlight class="normal">uint32_t<sp/>value;</highlight></codeline>
<codeline><highlight class="normal">value<sp/>=<sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1ga1e7463f2ee53d9da5a2ee24121aed25d" kindref="member">ioctl</ref>(tmr_fd,<sp/><ref refid="group___t_m_r_1gab3dad8f32add45b25ab32f918b607d9e" kindref="member">I_TMR_GET</ref>);</highlight></codeline>
</programlisting> </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="325" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="325" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="group___t_m_r_1ga5a37fe2e6e2016807b4691a1aa8f724f" prot="public" static="no">
        <name>I_TMR_TOTAL</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" line="327" column="9" bodyfile="/Users/tgil/git/CoActionOS/CoActionOS/include/dev/tmr.h" bodystart="327" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para>The Timer module contains functions to access an MCU&apos;s timer/counters as well as input capture and output compare units. More information about accessing peripheral IO is in the <ref refid="group___p_e_r_i_p_h_i_o" kindref="compound">Peripheral Input/Output</ref> section.</para><para>The following is an example of how to use the timer in an OS environment:</para><para><programlisting><codeline><highlight class="preprocessor">#include<sp/>&lt;unistd.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;fcntl.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;errno.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="hwpl_8h" kindref="compound">hwpl.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>my_tmr_action(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>context,<sp/>uint32_t<sp/>value){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//take<sp/>some<sp/>action<sp/>on<sp/>an<sp/>eint<sp/>event<sp/>--<sp/>this<sp/>runs<sp/>in<sp/>priveleged,<sp/>handler<sp/>mode,<sp/>it<sp/>should<sp/>be<sp/>fast<sp/>and<sp/>short</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>1;<sp/></highlight><highlight class="comment">//return<sp/>non-zero<sp/>to<sp/>keep<sp/>the<sp/>action<sp/>between<sp/>successive<sp/>events</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>tmr_example(</highlight><highlight class="keywordtype">void</highlight><highlight class="normal">){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fd;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="structtmr__attr__t" kindref="compound">tmr_attr_t</ref><sp/>attr;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="structhwpl__action__t" kindref="compound">tmr_action_t</ref><sp/>action;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="structtmr__reqattr__t" kindref="compound">tmr_reqattr_t</ref><sp/>chan_req;</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>fd<sp/>=<sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1gac843f2e35e60c3bbf1da47d84306f29b" kindref="member">open</ref>(</highlight><highlight class="stringliteral">&quot;/dev/tmr0&quot;</highlight><highlight class="normal">,<sp/>O_RDWR);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>fd<sp/>&lt;<sp/>0<sp/>){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>perror(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>open<sp/>timer&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//This<sp/>configuration<sp/>sets<sp/>a<sp/>timer<sp/>at<sp/>1MHz<sp/>using<sp/>the<sp/>CPU<sp/>as<sp/>the<sp/>clock<sp/>source</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>attr.<ref refid="structtmr__attr__t_1a6ad5e4a6c786d35be35483cf0a7998b2" kindref="member">pin_assign</ref><sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>attr.<ref refid="structtmr__attr__t_1aca286608dbd9e77db08e8d694b547c16" kindref="member">freq</ref><sp/>=<sp/>1000000;<sp/></highlight><highlight class="comment">//Run<sp/>the<sp/>timer<sp/>at<sp/>1MHz<sp/>(if<sp/>CPU<sp/>is<sp/>fast<sp/>enough)<sp/>--<sp/>this<sp/>is<sp/>not<sp/>applicable<sp/>in<sp/>counter<sp/>mode</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>attr.<ref refid="structtmr__attr__t_1a350c863adf6378c4b838a3585bc7fb6c" kindref="member">clksrc</ref><sp/>=<sp/><ref refid="group___t_m_r_1gga752e581dd80394311e122634680ece35a6928b4e5c83b959e37e3920a09123b35" kindref="member">TMR_CLKSRC_CPU</ref>;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>attr.<ref refid="structtmr__attr__t_1afce288564f843a7407fccc7294b018bc" kindref="member">enabled_ic_chans</ref><sp/>=<sp/>0;<sp/></highlight><highlight class="comment">//Setting<sp/>bits<sp/>here<sp/>will<sp/>configure<sp/>the<sp/>GPIO<sp/>for<sp/>input<sp/>capture<sp/>(depending<sp/>on<sp/>pin_assign)</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>attr.<ref refid="structtmr__attr__t_1a3936d31bfd7cfb638f669d9e86725e38" kindref="member">enabled_oc_chans</ref><sp/>=<sp/>0;<sp/></highlight><highlight class="comment">//Setting<sp/>bits<sp/>here<sp/>will<sp/>configure<sp/>the<sp/>GPIO<sp/>for<sp/>output<sp/>compare<sp/>(depending<sp/>on<sp/>pin_assign)</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1ga1e7463f2ee53d9da5a2ee24121aed25d" kindref="member">ioctl</ref>(fd,<sp/>I_SETATTR,<sp/>&amp;attr)<sp/>&lt;<sp/>0<sp/>){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>perror(</highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>set<sp/>attr&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Now<sp/>we<sp/>will<sp/>set<sp/>up<sp/>the<sp/>counter<sp/>to<sp/>reset<sp/>at<sp/>1<sp/>million<sp/>counts<sp/>using<sp/>an<sp/>output<sp/>compare<sp/>unit<sp/>(no<sp/>GPIO<sp/>is<sp/>affected)</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>chan_req.<ref refid="structtmr__reqattr__t_1acdb25687f2bfa6965b5f8fa733d0198a" kindref="member">channel</ref><sp/>=<sp/><ref refid="group___l_p_c17_x_x_d_e_v_1gga4446c5622012374fdca172a8600b6b53a1f7c7ebe370b76c9f676c32400dbffc9" kindref="member">TMR_ACTION_CHANNEL_OC0</ref>;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>chan_req.<ref refid="structtmr__reqattr__t_1ae02abe4a2ddbd1cdb1e17b46237a1acd" kindref="member">value</ref><sp/>=<sp/>1000000;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1ga1e7463f2ee53d9da5a2ee24121aed25d" kindref="member">ioctl</ref>(fd,<sp/>I_TMR_SET_OC,<sp/>&amp;chan_req)<sp/>){<sp/></highlight><highlight class="comment">//sets<sp/>the<sp/>value<sp/>of<sp/>OC0<sp/>to<sp/>1<sp/>million</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>perror(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>set<sp/>OC&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>action.<ref refid="structhwpl__action__t_1ad64a81f8794209690a58c5edea69a670" kindref="member">channel</ref><sp/>=<sp/><ref refid="group___l_p_c17_x_x_d_e_v_1gga4446c5622012374fdca172a8600b6b53a1f7c7ebe370b76c9f676c32400dbffc9" kindref="member">TMR_ACTION_CHANNEL_OC0</ref>;<sp/></highlight><highlight class="comment">//This<sp/>will<sp/>output<sp/>compare<sp/>0<sp/>--<sp/>MCU<sp/>specific<sp/>definition</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>action.<ref refid="structhwpl__action__t_1a135a14bbc27b1ea33cfaee0dc8302740" kindref="member">event</ref><sp/>=<sp/><ref refid="group___t_m_r_1gga7d678038d5737ca6e05ef60e6ca788d6ae745d8c1cd8983024b950fef824bbd62" kindref="member">TMR_ACTION_EVENT_RESET</ref>;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>action.<ref refid="structhwpl__action__t_1a93110fca833bdac575232fe9e86ce521" kindref="member">callback</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>action.<ref refid="structhwpl__action__t_1a696aef4afa2abe4e4b4fb72b1db27c0b" kindref="member">context</ref><sp/>=<sp/>NULL;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1ga1e7463f2ee53d9da5a2ee24121aed25d" kindref="member">ioctl</ref>(fd,<sp/>I_SETACTION,<sp/>&amp;action)<sp/>){<sp/></highlight><highlight class="comment">//cause<sp/>the<sp/>timer<sp/>to<sp/>reset<sp/>to<sp/>zero<sp/>when<sp/>it<sp/>hits<sp/>1<sp/>million</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>perror(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>set<sp/>action&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//Have<sp/>the<sp/>timer<sp/>start<sp/>counting</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1ga1e7463f2ee53d9da5a2ee24121aed25d" kindref="member">ioctl</ref>(fd,<sp/><ref refid="group___t_m_r_1ga3871e5d0dfcd5d2df1999bc7e731f167" kindref="member">I_TMR_ON</ref>)<sp/>){</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>perror(</highlight><highlight class="stringliteral">&quot;failed<sp/>to<sp/>enable<sp/>timer&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><ref refid="group___u_n_i___f_i_l_e___a_c_c_e_s_s_1gaacad1d135ca2779b583623678e36db7c" kindref="member">close</ref>(fd);<sp/></highlight><highlight class="comment">//This<sp/>turns<sp/>off<sp/>power<sp/>to<sp/>the<sp/>timer</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>0;</highlight></codeline>
<codeline><highlight class="normal">}</highlight></codeline>
</programlisting> </para>    </detaileddescription>
  </compounddef>
</doxygen>
